var website=window.website||{};website.component=website.component||{},website.component.Header=function(){var e=this;e.name="header",e.init=function(){}};var website=window.website||{};website.component=website.component||{},website.component.Navigation=function(){var n=this;n.name="navigation",n.init=function(){}};var website=window.website||{};website.component=website.component||{},website.component.Content=function(){var t=this;t.name="content",t.updateContentByClick=function(e,n,o){[].forEach.call(e,function(e){e.addEventListener("click",function(i){var a=e.getAttribute("href").replace(".html","");i.preventDefault(),website.xhrRequest(n+encodeURIComponent(a)+".htm",function(e,n){return e?website.xhrFallback(a):(history.pushState(a,null,o+"/"+a+".html"),void(document.getElementsByClassName(t.name+"--inner")[0].innerHTML=n))})})})},t.updateContentByHistoryBack=function(){window.addEventListener("popstate",function(e){e.state?website.xhrRequest("content/"+encodeURIComponent(e.state)+".htm",function(n,o){return n?website.xhrFallback(e.state):void(document.getElementsByClassName(t.name+"--inner")[0].innerHTML=o)}):history.back()})},t.init=function(e,n,o){t.updateContentByClick(e,n,o),t.updateContentByHistoryBack()}};var website=window.website||{};website.component=website.component||{},function(e){e.xhrRequest=function(e,t){var n=new XMLHttpRequest;return"file:"===location.protocol?t(new Error("Impossible to use AJAX in file system mode.")):(n.open("GET",e,!0),n.send(),n.addEventListener("load",function(){return n.status<200&&n.status>=400?t(new Error("The server was reached, but with no correct response.")):void t(null,n.responseText)}),void n.addEventListener("error",function(){return t(new Error("The server is unreachable."))}))},e.xhrFallback=function(e){location.href=encodeURIComponent(e)+".html"},e.init=function(){var e=document.querySelectorAll(".navigation--home a, .navigation--menu a"),t=document.body.getAttribute("data-content"),n=document.body.getAttribute("data-subpath");(new website.component.Header).init(),(new website.component.Navigation).init(),(new website.component.Content).init(e,t,n)}}(website),website.init();